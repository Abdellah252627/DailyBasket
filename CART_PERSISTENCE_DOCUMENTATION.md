# ูุซุงุฆู ูุธุงู ุงูุญูุธ ุงูุชููุงุฆู ููุณูุฉ

## ูุธุฑุฉ ุนุงูุฉ

ุชู ุชุทููุฑ ูุธุงู ุญูุธ ุชููุงุฆู ูุชูุฏู ูุณูุฉ ุงูุชุณูู ูู ูุชุฌุฑ DailyBasketุ ูุถูู ุนุฏู ููุฏุงู ุจูุงูุงุช ุงูุณูุฉ ุนูุฏ ุฅุบูุงู ุงูุตูุญุฉ ุฃู ุชุญุฏูุซูุงุ ูุน ุฅููุงููุฉ ุงุณุชุนุงุฏุฉ ุงูุณูุฉ ุชููุงุฆูุงู ุนูุฏ ุงูุนูุฏุฉ ูููุชุฌุฑ.

## ๐ ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ

### 1. ุงูุญูุธ ุงูุชููุงุฆู ุงููุชุนุฏุฏ ุงูุทุจูุงุช โ

**ุทุจูุงุช ุงูุญูุธ:**
- โ **SessionStorage** - ููุฌูุณุฉ ุงูุญุงููุฉ
- โ **LocalStorage** - ููุงุณุชุนุงุฏุฉ ุจุนุฏ ุฅุบูุงู ุงูุตูุญุฉ
- โ **localStorage ูููุณุชุฎุฏู** - ุญูุธ ุฏุงุฆู ูุน ุจูุงูุงุช ุงููุณุชุฎุฏู
- โ **ูุฒุงููุฉ ูุน ุงูุฎุงุฏู** - ูุญุงูุงุฉ ูููุฒุงููุฉ ุงูุณุญุงุจูุฉ

### 2. ุงูุงุณุชุนุงุฏุฉ ุงูุชููุงุฆูุฉ โ

**ุขููุฉ ุงูุงุณุชุนุงุฏุฉ:**
1. **ุงูุชุญูู ูู sessionStorage** ุฃููุงู (ุงูุฃุณุฑุน)
2. **ุงูุชุญูู ูู localStorage** ููุณุฎุฉ ุงุญุชูุงุทูุฉ
3. **ุชุญุฏูุซ ุจูุงูุงุช ุงููุณุชุฎุฏู** ุชููุงุฆูุงู
4. **ุนุฑุถ ุงูุฅุดุนุงุฑุงุช** ูููุณุชุฎุฏู

### 3. ุงูุญูุธ ุนูุฏ ุงูุฃุญุฏุงุซ ุงููููุฉ โ

**ุฃุญุฏุงุซ ุงูุญูุธ:**
- โ **ุนูุฏ ุชุบููุฑ ุงููููุฉ**
- โ **ุนูุฏ ุฅุฒุงูุฉ ููุชุฌ**
- โ **ุนูุฏ ุชุทุจูู ููุจูู**
- โ **ุนูุฏ ุชูุฑูุบ ุงูุณูุฉ**
- โ **ุนูุฏ ุฅุบูุงู ุงูุตูุญุฉ**
- โ **ุนูุฏ ุชุบููุฑ ุงูุชุจููุจ**
- โ **ูู 30 ุซุงููุฉ** (ุญูุธ ุฏูุฑู)

## ๐ง ุขููุฉ ุงูุนูู

### 1. ุงูุชููุฆุฉ ูุงูุญูุธ

**ุนูุฏ ุฅูุดุงุก ุงููุธุงู:**
```javascript
constructor() {
    this.currentUser = this.getCurrentUser();
    this.checkAuth();
    this.init();
    
    // ุงุณุชุนุงุฏุฉ ุงูุณูุฉ ุงููุญููุธุฉ
    this.restoreCartFromStorage();
    
    // ุฅุนุฏุงุฏ ุงูุญูุธ ุงูุชููุงุฆู
    this.setupAutoSave();
    
    // ุฅุนุฏุงุฏ ุงูุญูุธ ุนูุฏ ุฅุบูุงู ุงูุตูุญุฉ
    this.setupBeforeUnload();
}
```

### 2. ุงุณุชุนุงุฏุฉ ุงูุณูุฉ

**ุงูุชุฑุชูุจ ุญุณุจ ุงูุฃููููุฉ:**
```javascript
restoreCartFromStorage() {
    // 1. ุงูุชุญูู ูู sessionStorage (ุงูุฃุณุฑุน)
    const sessionCart = sessionStorage.getItem(`cart_${this.currentUser.id}`);
    if (sessionCart) {
        const cartData = JSON.parse(sessionCart);
        this.currentUser.cart = cartData.cart;
        this.currentDiscount = cartData.discount || 0;
        return;
    }
    
    // 2. ุงูุชุญูู ูู localStorage (ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ)
    const localCart = localStorage.getItem(`cart_backup_${this.currentUser.id}`);
    if (localCart) {
        const cartData = JSON.parse(localCart);
        this.currentUser.cart = cartData.cart;
        this.currentDiscount = cartData.discount || 0;
    }
}
```

### 3. ุงูุญูุธ ุงููุชุนุฏุฏ

**ุงูุญูุธ ูู ุนุฏุฉ ุฃูุงูู:**
```javascript
saveCartToStorage() {
    const cartData = {
        cart: this.currentUser.cart || [],
        discount: this.currentDiscount || 0,
        timestamp: new Date().toISOString(),
        userId: this.currentUser.id
    };
    
    // ุญูุธ ูู sessionStorage (ููุฌูุณุฉ ุงูุญุงููุฉ)
    sessionStorage.setItem(`cart_${this.currentUser.id}`, JSON.stringify(cartData));
    
    // ุญูุธ ูู localStorage (ููุงุณุชุนุงุฏุฉ ุจุนุฏ ุฅุบูุงู ุงูุตูุญุฉ)
    localStorage.setItem(`cart_backup_${this.currentUser.id}`, JSON.stringify(cartData));
}
```

## ๐ ุจูุงูุงุช ุงูุญูุธ

### 1. ูููู ุงูุจูุงูุงุช ุงููุญููุธุฉ

```javascript
const cartData = {
    cart: [
        {
            id: 'prod_001',
            name: 'Fresh Apples',
            price: '$1.30',
            image: 'https://i.imgur.com/vUJ2JKU.png',
            category: 'fruits',
            quantity: 2,
            offer: '10%',
            addedAt: '2026-01-12T15:30:00.000Z'
        }
    ],
    discount: 20,
    timestamp: '2026-01-12T15:45:00.000Z',
    userId: 'user_123'
};
```

### 2. ุฃูุงูู ุงูุญูุธ

| ุงูููุงู | ุงูุบุฑุถ | ุงููุฏุฉ |
|-------|-------|-------|
| **SessionStorage** | ุงูุฌูุณุฉ ุงูุญุงููุฉ | ุญุชู ุฅุบูุงู ุงููุชุตูุญ |
| **LocalStorage** | ูุณุฎุฉ ุงุญุชูุงุทูุฉ | ุฏุงุฆูุฉ |
| **localStorage ูููุณุชุฎุฏู** | ุจูุงูุงุช ุงููุณุชุฎุฏู | ุฏุงุฆูุฉ |
| **SessionStorage ููุฏูุน** | ุจูุงูุงุช ุงูุฏูุน | ุญุชู ุฅุบูุงู ุงููุชุตูุญ |

## ๐ ุฃุญุฏุงุซ ุงูุญูุธ

### 1. ุงูุญูุธ ุงูุชููุงุฆู ุงูุฏูุฑู

**ูู 30 ุซุงููุฉ:**
```javascript
setupAutoSave() {
    // ุญูุธ ูู 30 ุซุงููุฉ
    this.autoSaveInterval = setInterval(() => {
        this.saveCartToStorage();
    }, 30000);
}
```

### 2. ุงูุญูุธ ุนูุฏ ุงูุชุบููุฑุงุช

**ูุฑุงูุจุฉ DOM:**
```javascript
saveOnChanges() {
    this.cartObserver = new MutationObserver(() => {
        this.saveCartToStorage();
    });
    
    const productsContainer = document.querySelector('.products');
    this.cartObserver.observe(productsContainer, {
        childList: true,
        subtree: true,
        attributes: true,
        attributeFilter: ['data-index']
    });
}
```

### 3. ุงูุญูุธ ุนูุฏ ุฅุบูุงู ุงูุตูุญุฉ

**ุฃุญุฏุงุซ ุงูุตูุญุฉ:**
```javascript
setupBeforeUnload() {
    window.addEventListener('beforeunload', (e) => {
        this.saveCartToStorage();
    });
    
    window.addEventListener('pagehide', (e) => {
        this.saveCartToStorage();
    });
    
    document.addEventListener('visibilitychange', () => {
        if (document.visibilityState === 'hidden') {
            this.saveCartToStorage();
        }
    });
}
```

## ๐ก๏ธ ุงูุญูุงูุฉ ูุงูุฃูุงู

### 1. ุงูุชุญูู ูู ุงูุจูุงูุงุช

**ุงูุชุญูู ุนูุฏ ุงูุงุณุชุนุงุฏุฉ:**
```javascript
if (cartData.cart && cartData.cart.length > 0) {
    this.currentUser.cart = cartData.cart;
    this.currentDiscount = cartData.discount || 0;
    
    // ุชุญุฏูุซ ุงููุณุชุฎุฏู ูู localStorage
    this.updateUserCart(this.currentUser.cart);
}
```

### 2. ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก

**ุงูุชูุงุท ุงูุฃุฎุทุงุก:**
```javascript
try {
    const cartData = JSON.parse(sessionCart);
    // ูุนุงูุฌุฉ ุงูุจูุงูุงุช
} catch (error) {
    console.error('Error restoring cart from session:', error);
}
```

### 3. ุชูุธูู ุงูุจูุงูุงุช

**ุนูุฏ ุชุณุฌูู ุงูุฎุฑูุฌ:**
```javascript
clearCartStorage() {
    sessionStorage.removeItem(`cart_${this.currentUser.id}`);
    localStorage.removeItem(`cart_backup_${this.currentUser.id}`);
}
```

## ๐ฑ ุณููุงุฑูููุงุช ุงูุงุณุชุฎุฏุงู

### 1. ุณููุงุฑูู ุงูุชุณูู ุงูุนุงุฏู

**ุงูุฎุทูุงุช:**
1. **ุงููุณุชุฎุฏู ูุถูู ููุชุฌุงุช** ููุณูุฉ
2. **ูุชู ุงูุญูุธ ุชููุงุฆูุงู** ูู sessionStorage ู localStorage
3. **ูุบูู ุงููุณุชุฎุฏู ุงูุตูุญุฉ** ุนู ุทุฑูู ุงูุฎุทุฃ
4. **ูุนูุฏ ุงููุณุชุฎุฏู ูููุชุฌุฑ** ุจุนุฏ 5 ุฏูุงุฆู
5. **ุชุณุชุนูุฏ ุงูุณูุฉ ุชููุงุฆูุงู** ูู localStorage
6. **ุชุธูุฑ ุฌููุน ุงูููุชุฌุงุช** ููุง ูุงูุช

### 2. ุณููุงุฑูู ุชุบููุฑ ุงูุฌูุงุฒ

**ุงูุฎุทูุงุช:**
1. **ุงููุณุชุฎุฏู ูุชุณูู** ุนูู ุงูุฌูุงุฒ ุงูุฃูู
2. **ูุชู ุญูุธ ุงูุณูุฉ** ูู localStorage ูููุณุชุฎุฏู
3. **ุงููุณุชุฎุฏู ููุชุญ ุงููุชุฌุฑ** ุนูู ุฌูุงุฒ ุขุฎุฑ
4. **ูุชู ุชุณุฌูู ุงูุฏุฎูู** ุจููุณ ุงูุญุณุงุจ
5. **ุชุธูุฑ ุงูุณูุฉ** ูู ุจูุงูุงุช ุงููุณุชุฎุฏู ุงููุญููุธุฉ

### 3. ุณููุงุฑูู ุงููุทุงุน ุงูุดุจูุฉ

**ุงูุฎุทูุงุช:**
1. **ุงููุณุชุฎุฏู ูุชุณูู** ูุงูุดุจูุฉ ุชููุทุน
2. **ูุชู ุงูุญูุธ ูุญููุงู** ูู ุงููุชุตูุญ
3. **ุงููุณุชุฎุฏู ูููู ุงูุชุณูู** ุจุฏูู ูุดุงูู
4. **ุชุนูุฏ ุงูุดุจูุฉ** ูุงุญูุงู
5. **ูุชู ุงููุฒุงููุฉ** ูุน ุงูุฎุงุฏู ุชููุงุฆูุงู

## ๐ง ุงููุฒุงููุฉ ูุน ุงูุฎุงุฏู

### 1. ูุญุงูุงุฉ ุงููุฒุงููุฉ

**ุฏุงูุฉ ุงููุฒุงููุฉ:**
```javascript
syncCartWithServer() {
    if (!this.currentUser || !navigator.onLine) return;
    
    const cartData = {
        userId: this.currentUser.id,
        cart: this.currentUser.cart || [],
        discount: this.currentDiscount || 0,
        timestamp: new Date().toISOString()
    };
    
    // ูุญุงูุงุฉ ุฅุฑุณุงู ุงูุจูุงูุงุช ููุฎุงุฏู
    console.log('Syncing cart with server:', cartData);
    
    // ูู ุชุทุจูู ุญูููู:
    // fetch('/api/cart/sync', { 
    //     method: 'POST', 
    //     body: JSON.stringify(cartData),
    //     headers: { 'Content-Type': 'application/json' }
    // })
}
```

### 2. ุงููุฒุงููุฉ ุนูุฏ ุงูุชุบููุฑุงุช

**ูุชู ูุชู ุงููุฒุงููุฉ:**
- โ ุนูุฏ ุชุบููุฑ ุงููููุฉ
- โ ุนูุฏ ุฅุฒุงูุฉ ููุชุฌ
- โ ุนูุฏ ุชุทุจูู ููุจูู
- โ ุนูุฏ ุชูุฑูุบ ุงูุณูุฉ
- โ ุนูุฏ ุงุณุชุนุงุฏุฉ ุงูุณูุฉ

## ๐ ุงูุฃุฏุงุก ูุงูุชุญุณููุงุช

### 1. ุชุญุณููุงุช ุงูุฃุฏุงุก

**ุงูุชุญุณููุงุช ุงููุทุจูุฉ:**
- โ **ุญูุธ ุบูุฑ ูุชุฒุงูู** ูููุน ุชุนุทูู ุงููุงุฌูุฉ
- โ **ุชุญุฏูุซุงุช ุฌุฒุฆูุฉ** ุจุฏูุงู ูู ุงูุญูุธ ุงููุงูู
- โ **ูุฑุงูุจุฉ ุฐููุฉ** ููุชุบููุฑุงุช ููุท
- โ **ุชูุธูู ุงููุคูุชุงุช** ุนูุฏ ุฅุบูุงู ุงูุตูุญุฉ

### 2. ุฅุฏุงุฑุฉ ุงูุฐุงูุฑุฉ

**ุงูุชูุธูู ุงูุชููุงุฆู:**
```javascript
window.addEventListener('beforeunload', function() {
    if (cartSystem && cartSystem.autoSaveInterval) {
        clearInterval(cartSystem.autoSaveInterval);
    }
});

window.addEventListener('unload', function() {
    if (cartSystem && cartSystem.cartObserver) {
        cartSystem.cartObserver.disconnect();
    }
});
```

## ๐ฏ ุงูููุฒุงุช ุงููุชูุฏูุฉ

### 1. ุงุณุชุนุงุฏุฉ ุฐููุฉ

**ุงูุชุฑุชูุจ ุญุณุจ ุงูุฃููููุฉ:**
1. **SessionStorage** - ุงูุฃุณุฑุน ูุงูุฃุญุฏุซ
2. **LocalStorage** - ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ
3. **ุจูุงูุงุช ุงููุณุชุฎุฏู** - ุงููุณุฎุฉ ุงูุฏุงุฆูุฉ

### 2. ูุฒุงููุฉ ูุชุนุฏุฏุฉ ุงูุฃุฌูุฒุฉ

**ุงููุณุชูุจู:**
- ูุฒุงููุฉ ููุฑูุฉ ุจูู ุงูุฃุฌูุฒุฉ
- ุชุญุฏูุซุงุช ูุจุงุดุฑุฉ ุนูุฏ ุงูุชุบููุฑ
- ุฅุดุนุงุฑุงุช ููุชุบููุฑุงุช ูู ุฃุฌูุฒุฉ ุฃุฎุฑู

### 3. ูุณุฎ ุงุญุชูุงุทู ุชููุงุฆู

**ุงููุณุฎ ุงูุงุญุชูุงุทู:**
- ุญูุธ ูุณุฎุฉ ููููุฉ
- ุญูุธ ูุจู ุงูุนูููุงุช ุงููุจูุฑุฉ
- ุงุณุชุนุงุฏุฉ ูู ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ

## ๐ ุงูุฅุญุตุงุฆูุงุช ูุงููุฑุงูุจุฉ

### 1. ุฅุญุตุงุฆูุงุช ุงูุญูุธ

**ุงูุจูุงูุงุช ุงููุชุงุญุฉ:**
- ุนุฏุฏ ูุฑุงุช ุงูุญูุธ
- ุญุฌู ุงูุจูุงูุงุช ุงููุญููุธุฉ
- ููุช ุขุฎุฑ ุญูุธ
- ูุนุฏู ูุฌุงุญ ุงูุงุณุชุนุงุฏุฉ

### 2. ูุฑุงูุจุฉ ุงูุฃุฏุงุก

**ุงูููุงููุณ:**
- ุณุฑุนุฉ ุงูุงุณุชุนุงุฏุฉ
- ุญุฌู ุงูุจูุงูุงุช
- ุนุฏุฏ ุงูุฃุฎุทุงุก
- ููุช ุงูุงุณุชุฌุงุจุฉ

## ๐๏ธ ุงูุชุฎุตูุต ูุงูุชูุณุน

### 1. ุฅุนุฏุงุฏุงุช ูุงุจูุฉ ููุชุฎุตูุต

**ุงูุฅุนุฏุงุฏุงุช ุงููุชุงุญุฉ:**
```javascript
const settings = {
    autoSaveInterval: 30000, // 30 ุซุงููุฉ
    maxStorageSize: 5 * 1024 * 1024, // 5MB
    enableServerSync: true,
    enableBackup: true,
    compressionEnabled: false
};
```

### 2. ุชูุณูุน ุงููุธุงู

**ุฅุถุงูุงุช ูุณุชูุจููุฉ:**
- ุถุบุท ุงูุจูุงูุงุช
- ุชุดููุฑ ุงูุจูุงูุงุช
- ูุฒุงููุฉ ูุน ุงูุณุญุงุจุฉ
- ูุณุฎ ุงุญุชูุงุทู ุชููุงุฆู

## ๐ ุงูุฎูุงุตุฉ

ูุธุงู ุงูุญูุธ ุงูุชููุงุฆู ููุณูุฉ ูู ูุชุฌุฑ DailyBasket ูููุฑ:

- โ **ุญูุธ ุชููุงุฆู** ูู ุนุฏุฉ ุทุจูุงุช
- โ **ุงุณุชุนุงุฏุฉ ุฐููุฉ** ุนูุฏ ุงูุนูุฏุฉ
- โ **ุญูุงูุฉ ุงูุจูุงูุงุช** ูู ุงูููุฏุงู
- โ **ูุฒุงููุฉ ูุญุชููุฉ** ูุน ุงูุฎุงุฏู
- โ **ุฃุฏุงุก ูุญุณูู** ูุณุฑุนุฉ ุนุงููุฉ
- โ **ุชุฌุฑุจุฉ ูุณุชุฎุฏู** ุณูุณุฉ ููุณุชูุฑุฉ

ุงููุธุงู ุงูุขู ูุถูู ุนุฏู ููุฏุงู ุจูุงูุงุช ุงูุณูุฉ ุฃุจุฏุงูุ ูุน ุงุณุชุนุงุฏุฉ ุชููุงุฆูุฉ ููุฑูุฉ ุนูุฏ ุงูุนูุฏุฉ ูููุชุฌุฑ! ๐พโจ
